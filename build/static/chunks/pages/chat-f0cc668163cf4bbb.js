(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{2521:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return t(3582)}])},3582:(e,r,t)=>{"use strict";t.r(r),t.d(r,{__N_SSP:()=>i,default:()=>a});var n=t(7876),s=t(4232),i=!0;function a(e){let{user:r}=e,[t,i]=(0,s.useState)(""),[a,o]=(0,s.useState)([]),[l,d]=(0,s.useState)(!1),c=async()=>{if(!t.trim()||l)return;d(!0);let e={role:"user",content:t};o(r=>[...r,e]),i("");try{let e=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})}),r=await e.json();if(e.ok)o(e=>[...e,{role:"assistant",content:r.response}]);else throw Error(r.error)}catch(e){console.error("Error:",e),o(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}};return(0,n.jsxs)("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[(0,n.jsx)("h1",{children:"AI Chat"}),(0,n.jsxs)("div",{style:{border:"1px solid #ccc",height:"400px",overflowY:"auto",padding:"1rem"},children:[a.map((e,r)=>(0,n.jsxs)("div",{style:{marginBottom:"1rem",textAlign:"user"===e.role?"right":"left"},children:[(0,n.jsxs)("strong",{children:["user"===e.role?"You":"AI",":"]}),(0,n.jsx)("p",{children:e.content})]},r)),l&&(0,n.jsx)("div",{children:"Thinking..."})]}),(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsx)("input",{type:"text",value:t,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&c(),placeholder:"Type your message...",style:{width:"70%",padding:"0.5rem"}}),(0,n.jsx)("button",{onClick:c,disabled:l,style:{padding:"0.5rem 1rem",marginLeft:"0.5rem"},children:"Send"})]})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=2521)),_N_E=e.O()}]);